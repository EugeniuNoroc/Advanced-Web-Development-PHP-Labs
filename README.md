# Лабораторная работа №1. HTTP
# Цель работы
  - Понять, что происходит, когда пользователь открывает сайт.
  - Научиться находить и анализировать HTTP-запросы в браузере.
  - Разобраться в назначении методов GET, POST, PUT, DELETE.
# Условие
## Задание 1. Анализ HTTP-запросов. Часть 1
  1. Откройте сайт Wikipedia: https://en.wikipedia.org/wiki/HTTP
  
  2. Прочитайте статью и обратите внимание на разделы, посвященные HTTP-запросам.  
     2.1 HTTP = язык общения браузера и сервера  
     2.2 Всё работает через модель запрос → ответ  
     2.3 Метод определяет действие (GET, POST и т.д.)  
     2.4 Сервер отвечает статусом и данными  
     2.5 Запрос состоит из:
     - метода
     - заголовков
     - тела
  3. Откройте инструменты разработчика в вашем браузере (обычно это можно сделать, нажав F12 или правой кнопкой мыши выбрав "Inspect").  
  
  4. Перейдите на вкладку "Network" (Сеть).  
  
  5. Обновите страницу Wikipedia.  
  <img width="1750" height="963" alt="изображение" src="https://github.com/user-attachments/assets/7abb4364-9c96-47a3-9b38-2a8a518da864" />
  
  6. Найдите первый запрос к странице, он будет назван как HTTP и изучите следующие аспекты:

- URL запроса  
  https://ru.wikipedia.org/wiki/HTTP  

- Метод запроса. Почему именно данный метод используется для загрузки страницы?  
  Использован метод GET для получения информации с сервера.  

- Статус ответа. Что означает статус ответа?  
  Код 200 — запрос успешно обработан, OK — сервер вернул страницу.  

- Заголовки запроса и ответа. Какие заголовки присутствуют и какую информацию они содержат?  
  Host: ru.wikipedia.org — к какому серверу идёт запрос  
  User-Agent — браузер и ОС пользователя  
  Accept — какие типы данных клиент готов принять  
  Accept-Language — предпочтительный язык (ru)  
  Accept-Encoding — поддержка сжатия (gzip, br и др.)  
  Cookie — данные сессии пользователя  
  Referer — откуда пришёл запрос  
  Connection: keep-alive — не закрывать соединение  

- Есть ли тело запроса или ответа? Если да, то что в нем содержится?  
  Тела запроса нет, GET-запросы обычно не содержат тела.  
  Тело ответа есть — HTML код страницы Wikipedia, сжат gzip, размер: 58535 байт, тип: text/html.
     <img width="1035" height="797" alt="изображение" src="https://github.com/user-attachments/assets/402469d8-a1de-4100-9918-ac8c0926096d" />  
     <img width="1036" height="366" alt="изображение" src="https://github.com/user-attachments/assets/678edaaa-f0d5-4705-9de9-2ab134dbbc48" />  
  7. Какие еще запросы были отправлены при загрузке страницы и почему?  
  При загрузке страницы браузер отправляет не только основной запрос к HTML, но и дополнительные запросы к связанным ресурсам.

  Отправляются следующие запросы:

  - CSS файлы — для оформления страницы (стили, шрифты, расположение элементов)
  - JavaScript файлы — для интерактивности и динамической работы страницы
  - Изображения — логотипы, иконки, картинки внутри статьи
  - Шрифты — для корректного отображения текста
  - favicon.ico — иконка сайта во вкладке браузера
  - API-запросы — для служебных данных (например, статистика или настройки)

  Это происходит потому, что HTML страница содержит ссылки на внешние ресурсы (через теги `<link>`, `<script>`, `<img>` и др.), и браузер автоматически загружает их отдельными HTTP-запросами для полноценного отображения страницы.  

8. Перейдите по следующему адресу: https://en.wikipedia.org/wiki/HTTPdsfdfs и повторите анализ для этого запроса. Какой статус ответа вы получили и почему?
   
  При переходе по адресу: https://en.wikipedia.org/wiki/HTTPdsfdfs был получен статус ответа: 404 Not Found  
  Это означает, что сервер успешно принял и обработал запрос, но запрашиваемый ресурс не существует.  
  Причина: URL содержит несуществующую страницу (`HTTPdsfdfs`).  
  Такой статьи нет в базе Wikipedia, поэтому сервер не может вернуть HTML содержимое и сообщает, что ресурс не найден.  

## Задание 2. Анализ HTTP-запросов. Часть 2
## Задание 3. Анализ HTTP-запросов. Часть 3
## Задание 4. Составление HTTP-запросов
### 1) GET-запрос на `http://sandbox.usm.com` с User-Agent (имя + фамилия)

GET / HTTP/1.1
Host: sandbox.usm.com
User-Agent: Eugene Ivanov


### Что такое User-Agent?
`User-Agent` — заголовок, который сообщает серверу, **кто отправляет запрос** (браузер/приложение, ОС, версия).  
Используется для **логирования**, **аналитики**, **отладки**, иногда — для выдачи разного контента под разные клиенты.

### 2) POST-запрос на `http://sandbox.usm.com/cars` с параметрами в теле

### Вариант JSON (чаще в API)
POST /cars HTTP/1.1
Host: sandbox.usm.com
Content-Type: application/json
User-Agent: Eugene Ivanov

{
  "make": "Toyota",
  "model": "Corolla",
  "year": 2020
}

### Какие еще методы HTTP существуют?
- `GET` — получить ресурс
- `POST` — создать ресурс / отправить данные на обработку
- `PUT` — полностью заменить ресурс (создать, если отсутствует — зависит от API)
- `PATCH` — частично изменить ресурс
- `DELETE` — удалить ресурс
- `HEAD` — как GET, но без тела ответа (только заголовки)
- `OPTIONS` — узнать, какие методы/опции поддерживает сервер для ресурса

### 3) PUT-запрос на `http://sandbox.usm.com/cars/1` (JSON + User-Agent)

PUT /cars/1 HTTP/1.1
Host: sandbox.usm.com
User-Agent: Eugene Ivanov
Content-Type: application/json

{
  "make": "Toyota",
  "model": "Corolla",
  "year": 2021
}

### Разница PATCH и PUT
- `PUT` — **полная замена** ресурса (обычно нужно отправлять весь объект целиком).
- `PATCH` — **частичное изменение** (можно отправить только изменяемые поля).

### 4) Пример ответа сервера на запрос

Запрос:
POST /cars HTTP/1.1
Host: sandbox.com
Content-Type: application/json
User-Agent: John Doe

model=Corolla&make=Toyota&year=2020

### Один из возможных ответов (успешное создание)
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 42,
  "make": "Toyota",
  "model": "Corolla",
  "year": 2020
}

### Когда сервер может вернуть коды 200/201/400/401/403/404/500
- `200 OK` — сервер обработал запрос, но **не создавал новый ресурс** (например, вернул результат обработки).
- `201 Created` — **создан новый ресурс** (новая запись авто).
- `400 Bad Request` — неверные данные/формат (например, `year` не число, тело невалидно, отсутствуют поля).
- `401 Unauthorized` — нужна аутентификация (нет/неверный токен, нет логина).
- `403 Forbidden` — аутентификация есть, но **нет прав** (например, нельзя создавать машины).
- `404 Not Found` — неправильный путь (например, `/cars` не существует на этом сервере).
- `500 Internal Server Error` — ошибка на сервере (падение приложения, ошибка БД, необработанное исключение).
